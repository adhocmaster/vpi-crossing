# vpi-crossing
Vehicle Interaction with Crossing Pedestrians

Also refer to the notes `README.md` of 'Vehicle Interaction with Crossing Pedestirans' in the `literature` repository.

## Testing Scenarios

The testing scenarios are modified according to [Euro NCAP test protocol](https://www.euroncap.com/en/for-engineers/protocols/vulnerable-road-user-vru-protection/), which is also used in `19Schratter`'s paper:
- CPFA (Car-to-Pedestrain Farside Adult):
- CPNA (Car-to-Pedestrain Nearside Adult):
- CPNC (Car-to-Pedestrain Nearside Child with Occlusion ):

Vehicle starts at several different longitudinal positions with different TTC (time to collison) values.

The evaluation is done all by simulation, by assuming that the pedestrian motion in simulation is typical and representitive. The primary focus of this work is to compare different strategies that adjust the vehicle's longitudinal motion combined with the prediction of VRU.

The pedestrian motion in simulation is generated by a social force based pedestrian model that consideres the effect of a moving vehicle. As comparison, a linear motion simulation (when pedestrian crosses, a constant speed will be maintained) will be possibly implemented as comparison.

## Baselines
- AEB + immediate detection
- MPC + LOVP(last observed velocity prediction)
- MPC + RS(reachable set prediction)
- MPC + SF(social force prediction, which requires additional information: estimated destination and desired speed)

## Pedestrian Initial State
- sampling from a distribution of accepted time gap
- sampling from a distribution of desired speed


## TODO

- [x] test social force function
- [x] write a simplified version of social force model

- Teawon's Suggestion:
  - Test the pedestrian with an agggresive vehicle controller, or a
    controller that just ignore the pedestrian.

Evaluation:
- average speed
- time to cross the area
- min distance to pedestrian
- maximum acc
-
